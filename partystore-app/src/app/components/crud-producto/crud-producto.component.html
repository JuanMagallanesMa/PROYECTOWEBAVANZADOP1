<div class="container mt-4">
  <div class="row">
    <!-- Formulario -->
    <div class="col-md-5">
      <h4>{{ productoEnEdicion ? 'Editar Producto' : 'Registrar Producto' }}</h4>
      <form (ngSubmit)="guardarProducto()" #productoForm="ngForm" class="form-container">
        <mat-form-field appearance="fill" class="form-field">
          <mat-label>ID</mat-label>
          <input
            matInput
            type="text"
            id="id"
            [(ngModel)]="nuevoProducto.idProdcuto"
            name="id"
            placeholder="ID del producto"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Nombre</mat-label>
          <input
            matInput
            type="text"
            id="nombre"
            [(ngModel)]="nuevoProducto.nombre"
            name="nombre"
            placeholder="Ingresa el nombre del producto"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Descripción</mat-label>
          <input
            matInput
            type="text"
            id="descripcion"
            [(ngModel)]="nuevoProducto.descripcion"
            name="descripcion"
            placeholder="Ingresa la descripción del producto"
            required
          />
        </mat-form-field> 

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Categoría</mat-label>
          <mat-select
            id="categoria"
            [(ngModel)]="nuevoProducto.categoria"
            name="categoria"
            required
          >
            <mat-option value="" disabled>Selecciona una categoría</mat-option>
            <mat-option value="decoracion">Decoraciones</mat-option>
            <mat-option value="invitacion">Invitaciones</mat-option>
            <mat-option value="disfraces">Disfraces</mat-option>
            <mat-option value="juegos">Juegos</mat-option>
            <mat-option value="suministro">Suministros</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="form-field">
          <mat-label>Precio</mat-label>
          <input
            matInput
            type="number"
            id="precio"
            [(ngModel)]="nuevoProducto.precio"
            name="precio"
            placeholder="Ingresa el precio del producto"
            required
            min="0"
            step="0.01"
          />
        </mat-form-field>

        <button 
          mat-raised-button
          color="primary"
          class="submit-button"
          type="button"
          (click)="guardarProducto1()"
        >
          {{ productoEnEdicion ? 'Guardar cambios' : 'Registrar Producto' }}
        </button>
      </form>
    </div>

    <!-- Tabla -->
    <div class="col-md-7">
      <h4>Lista de Productos</h4>

      <!-- Buscador -->
      <div class="search-container">
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Buscar Producto</mat-label>
          <input
            matInput
            type="text"
            [(ngModel)]="buscador"
            placeholder="Buscar producto"
          />
        </mat-form-field>
        <button
          mat-raised-button
          color="primary"
          class="search-button"
          (click)="buscarProductos1()"
        >
          Buscar
        </button>
      </div>

      <app-table
        [dataSource]="dataSource"
        [displayedColumns]="displayedColumns"
        [columnAliases]="columnAliases"
        (onEdit)="handleEdit($event)"
        (onDelete)="handleDelete($event)"
      ></app-table>
    </div>
  </div>
</div>
